import{f as d,c as u}from"./assets/render-functions-NVAU7SPj.js";import{S as f,i as r}from"./assets/vendor-gJp-_g1P.js";const n=document.querySelector("form"),b=document.querySelector("input"),c=document.querySelector(".first"),l=document.querySelector(".second"),i=document.querySelector(".gallery"),m=document.querySelector(".observered-element");let t=1;const v=15;let s="";const S={root:null,rootMargin:"0px 0px 300px 0px",threshold:1},L=async o=>{if(o[0].isIntersecting)try{t++,l.classList.remove("is-hidden");const e=await d(s,t),a=e.data.hits.map(u).join("");i.insertAdjacentHTML("beforeend",a),y.refresh();const h=e.data.total,g=Math.ceil(h/v);if(t>g)return p.unobserve(m),r.error({message:"We are sorry, but you have reached the end of search results!",position:"center"})}catch(e){r.error({message:`${e}`,position:"center"})}finally{l.classList.add("is-hidden")}},p=new IntersectionObserver(L,S),q=async o=>{try{if(o.preventDefault(),s=b.value.trim(),t=1,!s){r.error({message:"Please enter a search query!",position:"topRight"});return}c.classList.remove("is-hidden");const e=await d(s,t);if(i.innerHTML="",e.data.hits.length===0){r.error({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"}),n.reset();return}const a=e.data.hits.map(u).join("");i.innerHTML=a,y.refresh(),p.observe(m)}catch(e){r.error({message:`${e}`,position:"center"})}finally{c.classList.add("is-hidden"),n.reset()}};let y=new f(".gallery li a",{captions:!0,captionsData:"alt",captionDelay:250,overlayOpacity:.8,captionsPosition:"bottom"});n.addEventListener("submit",q);
//# sourceMappingURL=endless-scroll.js.map
