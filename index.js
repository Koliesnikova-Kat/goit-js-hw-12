import{f as h,c as m}from"./assets/render-functions-NVAU7SPj.js";import{S as L,i as t}from"./assets/vendor-gJp-_g1P.js";const i=document.querySelector("form"),v=document.querySelector("input"),d=document.querySelector(".first"),u=document.querySelector(".second"),c=document.querySelector(".gallery"),a=document.querySelector(".load-button");let r=1;const l=15;let s="";const S=async o=>{try{if(o.preventDefault(),s=v.value.trim(),r=1,!s){t.error({message:"Please enter a search query!",position:"topRight"});return}d.classList.remove("is-hidden");const e=await h(s,r);if(c.innerHTML="",e.data.hits.length===0){t.error({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"}),i.reset();return}const n=e.data.hits.map(m).join("");c.innerHTML=n,e.data.hits.length<l?(a.classList.add("is-hidden"),t.error({message:"We are sorry, but you have reached the end of search results!",position:"center"})):a.classList.remove("is-hidden"),y.refresh()}catch(e){t.error({message:`${e}`,position:"center"})}finally{d.classList.add("is-hidden"),i.reset()}},b=async o=>{try{o.preventDefault(),r++,u.classList.remove("is-hidden");const e=await h(s,r),n=e.data.hits.map(m).join("");c.insertAdjacentHTML("beforeend",n);let p=document.querySelector(".gallery-item").getBoundingClientRect();window.scrollBy({top:2*p.height,behavior:"smooth"}),y.refresh();const g=e.data.total,f=Math.ceil(g/l);if(r>=f||e.data.hits.length<l)return a.classList.add("is-hidden"),t.error({message:"We are sorry, but you have reached the end of search results!",position:"center"})}catch(e){t.error({message:`${e}`,position:"center"})}finally{u.classList.add("is-hidden")}};let y=new L(".gallery li a",{captions:!0,captionsData:"alt",captionDelay:250,overlayOpacity:.8,captionsPosition:"bottom"});i.addEventListener("submit",S);a.addEventListener("click",b);
//# sourceMappingURL=index.js.map
