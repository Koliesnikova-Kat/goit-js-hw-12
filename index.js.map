{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const url = 'https://pixabay.com';\n\nexport const fetchedData = (searchedQuery) => {\n  const urlParams = new URLSearchParams({\n    q: searchedQuery,\n    key: '45695885-da8e33dec9e780ad4c69fe11f',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    per_page: 30,\n  });\n\n  return fetch(`${url}/api/?${urlParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n};","export const createGalleryMarkup = imgInfo => {\n  return `\n    <li class='gallery-item'>\n      <a class='gallery-link' href='${imgInfo.largeImageURL}'>\n        <img class='gallery-image' src='${imgInfo.webformatURL}' alt='${imgInfo.tags}' />\n      </a>\n      <div class='info'>\n        <p class='info-item'>\n          <b>Likes</b> ${imgInfo.likes}\n        </p>\n        <p class='info-item'>\n          <b>Views</b> ${imgInfo.views}\n        </p>\n        <p class='info-item'>\n          <b>Comments</b> ${imgInfo.comments}\n        </p>\n        <p class='info-item'>\n          <b>Downloads</b> ${imgInfo.downloads}\n        </p>\n      </div>\n    </li>\n  `;\n};","import {fetchedData} from './js/pixabay-api';\nimport {createGalleryMarkup} from './js/render-functions';\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nconst form = document.querySelector('form');\nconst input = document.querySelector('input');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n\n  const searchedValue = input.value.trim();\n\n  if (!searchedValue) {\n    iziToast.error({\n      message: 'Please enter a search query!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  loader.classList.remove('is-hidden');\n\n  fetchedData(searchedValue)\n    .then(data => {\n      gallery.innerHTML = '';\n\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n\n        form.reset();\n        return;\n      }\n\n      const galleryMarkup = data.hits.map(createGalleryMarkup).join('');\n      gallery.innerHTML = galleryMarkup;\n\n      let galleryLibrary = new SimpleLightbox('.gallery li a', {\n        captions: true,\n        captionsData: 'alt',\n        captionDelay: 250,\n        overlayOpacity: 0.8,\n        captionsPosition: 'bottom'\n      });\n\n      galleryLibrary.refresh();\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      loader.classList.add('is-hidden');\n      form.reset();\n    });;\n}\n\nform.addEventListener('submit', onFormSubmit);"],"names":["url","fetchedData","searchedQuery","urlParams","response","createGalleryMarkup","imgInfo","form","input","loader","gallery","onFormSubmit","event","searchedValue","iziToast","data","galleryMarkup","SimpleLightbox","err"],"mappings":"6vBAAA,MAAMA,EAAM,sBAECC,EAAeC,GAAkB,CAC5C,MAAMC,EAAY,IAAI,gBAAgB,CACpC,EAAGD,EACH,IAAK,qCACL,YAAa,aACb,WAAY,OACZ,SAAU,EACd,CAAG,EAED,OAAO,MAAM,GAAGF,CAAG,SAASG,CAAS,EAAE,EACpC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,CACL,EClBaC,EAAsBC,GAC1B;AAAA;AAAA,sCAE6BA,EAAQ,aAAa;AAAA,0CACjBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,yBAI3DA,EAAQ,KAAK;AAAA;AAAA;AAAA,yBAGbA,EAAQ,KAAK;AAAA;AAAA;AAAA,4BAGVA,EAAQ,QAAQ;AAAA;AAAA;AAAA,6BAGfA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,ICZxCC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAeC,GAAS,CAC5BA,EAAM,eAAc,EAEpB,MAAMC,EAAgBL,EAAM,MAAM,KAAI,EAEtC,GAAI,CAACK,EAAe,CAClBC,EAAS,MAAM,CACb,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDL,EAAO,UAAU,OAAO,WAAW,EAEnCR,EAAYY,CAAa,EACtB,KAAKE,GAAQ,CAGZ,GAFAL,EAAQ,UAAY,GAEhBK,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,UACpB,CAAS,EAEDP,EAAK,MAAK,EACV,MACD,CAED,MAAMS,EAAgBD,EAAK,KAAK,IAAIV,CAAmB,EAAE,KAAK,EAAE,EAChEK,EAAQ,UAAYM,EAEC,IAAIC,EAAe,gBAAiB,CACvD,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,GAChB,iBAAkB,QAC1B,CAAO,EAEc,QAAO,CAC5B,CAAK,EACA,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,EACA,QAAQ,IAAM,CACbT,EAAO,UAAU,IAAI,WAAW,EAChCF,EAAK,MAAK,CACX,CAAA,CACL,EAEAA,EAAK,iBAAiB,SAAUI,CAAY"}